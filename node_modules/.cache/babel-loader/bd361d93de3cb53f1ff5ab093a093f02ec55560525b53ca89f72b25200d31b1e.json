{"ast":null,"code":"import { WRAP_MODES } from '@pixi/core';\nimport { Mesh, MeshMaterial } from '@pixi/mesh';\nimport { RopeGeometry } from './geometry/RopeGeometry.mjs';\nclass SimpleRope extends Mesh {\n  constructor(texture, points) {\n    let textureScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    const ropeGeometry = new RopeGeometry(texture.height, points, textureScale);\n    const meshMaterial = new MeshMaterial(texture);\n    if (textureScale > 0) {\n      texture.baseTexture.wrapMode = WRAP_MODES.REPEAT;\n    }\n    super(ropeGeometry, meshMaterial);\n    this.autoUpdate = true;\n  }\n  _render(renderer) {\n    const geometry = this.geometry;\n    if (this.autoUpdate || geometry._width !== this.shader.texture.height) {\n      geometry._width = this.shader.texture.height;\n      geometry.update();\n    }\n    super._render(renderer);\n  }\n}\nexport { SimpleRope };","map":{"version":3,"names":["SimpleRope","Mesh","constructor","texture","points","textureScale","arguments","length","undefined","ropeGeometry","RopeGeometry","height","meshMaterial","MeshMaterial","baseTexture","wrapMode","WRAP_MODES","REPEAT","autoUpdate","_render","renderer","geometry","_width","shader","update"],"sources":["C:\\Users\\cheng\\OneDrive\\Desktop\\site\\cindyjcheng.github.io\\node_modules\\@pixi\\mesh-extras\\src\\SimpleRope.ts"],"sourcesContent":["import { WRAP_MODES } from '@pixi/core';\nimport { Mesh, MeshMaterial } from '@pixi/mesh';\nimport { RopeGeometry } from './geometry/RopeGeometry';\n\nimport type { IPoint, Renderer, Texture } from '@pixi/core';\n\n/**\n * The rope allows you to draw a texture across several points and then manipulate these points\n * @example\n * import { Point, SimpleRope, Texture } from 'pixi.js';\n *\n * for (let i = 0; i < 20; i++) {\n *     points.push(new Point(i * 50, 0));\n * };\n * const rope = new SimpleRope(Texture.from('snake.png'), points);\n * @memberof PIXI\n */\nexport class SimpleRope extends Mesh\n{\n    public autoUpdate: boolean;\n\n    /**\n     * Note: The wrap mode of the texture is set to REPEAT if `textureScale` is positive.\n     * @param texture - The texture to use on the rope.\n     * @param points - An array of {@link PIXI.Point} objects to construct this rope.\n     * @param {number} textureScale - Optional. Positive values scale rope texture\n     * keeping its aspect ratio. You can reduce alpha channel artifacts by providing a larger texture\n     * and downsampling here. If set to zero, texture will be stretched instead.\n     */\n    constructor(texture: Texture, points: IPoint[], textureScale = 0)\n    {\n        const ropeGeometry = new RopeGeometry(texture.height, points, textureScale);\n        const meshMaterial = new MeshMaterial(texture);\n\n        if (textureScale > 0)\n        {\n            // attempt to set UV wrapping, will fail on non-power of two textures\n            texture.baseTexture.wrapMode = WRAP_MODES.REPEAT;\n        }\n        super(ropeGeometry, meshMaterial);\n\n        /**\n         * re-calculate vertices by rope points each frame\n         * @member {boolean}\n         */\n        this.autoUpdate = true;\n    }\n\n    _render(renderer: Renderer): void\n    {\n        const geometry: RopeGeometry = this.geometry as any;\n\n        if (this.autoUpdate || geometry._width !== this.shader.texture.height)\n        {\n            geometry._width = this.shader.texture.height;\n            geometry.update();\n        }\n\n        super._render(renderer);\n    }\n}\n"],"mappings":";;;AAiBO,MAAMA,UAAA,SAAmBC,IAChC;EAWIC,WAAYA,CAAAC,OAAA,EAAkBC,MAAkB,EAChD;IAAA,IADgDC,YAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAe,CAC/D;IACI,MAAMG,YAAA,GAAe,IAAIC,YAAA,CAAaP,OAAQ,CAAAQ,MAAA,EAAQP,MAAA,EAAQC,YAAY;IACpE,MAAAO,YAAA,GAAe,IAAIC,YAAA,CAAaV,OAAO;IAE7C,IAAIE,YAAA,GAAe,CACnB;MAEYF,OAAA,CAAAW,WAAA,CAAYC,QAAA,GAAWC,UAAW,CAAAC,MAAA;IAAA;IAE9C,MAAMR,YAAA,EAAcG,YAAY;IAMhC,KAAKM,UAAa;EAAA;EAGtBC,QAAQC,QACR;IACI,MAAMC,QAAA,GAAyB,IAAK,CAAAA,QAAA;IAEpC,IAAI,KAAKH,UAAc,IAAAG,QAAA,CAASC,MAAA,KAAW,IAAK,CAAAC,MAAA,CAAOpB,OAAA,CAAQQ,MAC/D;MACaU,QAAA,CAAAC,MAAA,GAAS,IAAK,CAAAC,MAAA,CAAOpB,OAAQ,CAAAQ,MAAA;MACtCU,QAAA,CAASG,MAAO;IAAA;IAGpB,MAAML,OAAA,CAAQC,QAAQ;EAAA;AAE9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}