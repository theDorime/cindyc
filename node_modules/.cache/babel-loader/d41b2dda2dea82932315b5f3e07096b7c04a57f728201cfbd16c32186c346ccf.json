{"ast":null,"code":"import { ENV } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\nlet CONTEXT_UID_COUNTER = 0;\nclass ContextSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.webGLVersion = 1;\n    this.extensions = {};\n    this.supports = {\n      uint32Indices: false\n    };\n    this.handleContextLost = this.handleContextLost.bind(this);\n    this.handleContextRestored = this.handleContextRestored.bind(this);\n  }\n  get isLost() {\n    return !this.gl || this.gl.isContextLost();\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.renderer.gl = gl;\n    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n  }\n  init(options) {\n    if (options.context) {\n      this.initFromContext(options.context);\n    } else {\n      const alpha = this.renderer.background.alpha < 1;\n      const premultipliedAlpha = options.premultipliedAlpha;\n      this.preserveDrawingBuffer = options.preserveDrawingBuffer;\n      this.useContextAlpha = options.useContextAlpha;\n      this.powerPreference = options.powerPreference;\n      this.initFromOptions({\n        alpha,\n        premultipliedAlpha,\n        antialias: options.antialias,\n        stencil: true,\n        preserveDrawingBuffer: options.preserveDrawingBuffer,\n        powerPreference: options.powerPreference\n      });\n    }\n  }\n  initFromContext(gl) {\n    this.gl = gl;\n    this.validateContext(gl);\n    this.renderer.gl = gl;\n    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n    this.renderer.runners.contextChange.emit(gl);\n    const view = this.renderer.view;\n    if (view.addEventListener !== void 0) {\n      view.addEventListener(\"webglcontextlost\", this.handleContextLost, false);\n      view.addEventListener(\"webglcontextrestored\", this.handleContextRestored, false);\n    }\n  }\n  initFromOptions(options) {\n    const gl = this.createContext(this.renderer.view, options);\n    this.initFromContext(gl);\n  }\n  createContext(canvas, options) {\n    let gl;\n    if (settings.PREFER_ENV >= ENV.WEBGL2) {\n      gl = canvas.getContext(\"webgl2\", options);\n    }\n    if (gl) {\n      this.webGLVersion = 2;\n    } else {\n      this.webGLVersion = 1;\n      gl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\n      if (!gl) {\n        throw new Error(\"This browser does not support WebGL. Try using the canvas renderer\");\n      }\n    }\n    this.gl = gl;\n    this.getExtensions();\n    return this.gl;\n  }\n  getExtensions() {\n    const {\n      gl\n    } = this;\n    const common = {\n      loseContext: gl.getExtension(\"WEBGL_lose_context\"),\n      anisotropicFiltering: gl.getExtension(\"EXT_texture_filter_anisotropic\"),\n      floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n      s3tc: gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n      s3tc_sRGB: gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n      etc: gl.getExtension(\"WEBGL_compressed_texture_etc\"),\n      etc1: gl.getExtension(\"WEBGL_compressed_texture_etc1\"),\n      pvrtc: gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n      atc: gl.getExtension(\"WEBGL_compressed_texture_atc\"),\n      astc: gl.getExtension(\"WEBGL_compressed_texture_astc\")\n    };\n    if (this.webGLVersion === 1) {\n      Object.assign(this.extensions, common, {\n        drawBuffers: gl.getExtension(\"WEBGL_draw_buffers\"),\n        depthTexture: gl.getExtension(\"WEBGL_depth_texture\"),\n        vertexArrayObject: gl.getExtension(\"OES_vertex_array_object\") || gl.getExtension(\"MOZ_OES_vertex_array_object\") || gl.getExtension(\"WEBKIT_OES_vertex_array_object\"),\n        uint32ElementIndex: gl.getExtension(\"OES_element_index_uint\"),\n        floatTexture: gl.getExtension(\"OES_texture_float\"),\n        floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n        textureHalfFloat: gl.getExtension(\"OES_texture_half_float\"),\n        textureHalfFloatLinear: gl.getExtension(\"OES_texture_half_float_linear\")\n      });\n    } else if (this.webGLVersion === 2) {\n      Object.assign(this.extensions, common, {\n        colorBufferFloat: gl.getExtension(\"EXT_color_buffer_float\")\n      });\n    }\n  }\n  handleContextLost(event) {\n    event.preventDefault();\n    setTimeout(() => {\n      if (this.gl.isContextLost() && this.extensions.loseContext) {\n        this.extensions.loseContext.restoreContext();\n      }\n    }, 0);\n  }\n  handleContextRestored() {\n    this.renderer.runners.contextChange.emit(this.gl);\n  }\n  destroy() {\n    const view = this.renderer.view;\n    this.renderer = null;\n    if (view.removeEventListener !== void 0) {\n      view.removeEventListener(\"webglcontextlost\", this.handleContextLost);\n      view.removeEventListener(\"webglcontextrestored\", this.handleContextRestored);\n    }\n    this.gl.useProgram(null);\n    if (this.extensions.loseContext) {\n      this.extensions.loseContext.loseContext();\n    }\n  }\n  postrender() {\n    if (this.renderer.objectRenderer.renderingToScreen) {\n      this.gl.flush();\n    }\n  }\n  validateContext(gl) {\n    const attributes = gl.getContextAttributes();\n    const isWebGl2 = \"WebGL2RenderingContext\" in globalThis && gl instanceof globalThis.WebGL2RenderingContext;\n    if (isWebGl2) {\n      this.webGLVersion = 2;\n    }\n    if (attributes && !attributes.stencil) {\n      console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\");\n    }\n    const hasuint32 = isWebGl2 || !!gl.getExtension(\"OES_element_index_uint\");\n    this.supports.uint32Indices = hasuint32;\n    if (!hasuint32) {\n      console.warn(\"Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly\");\n    }\n  }\n}\nContextSystem.defaultOptions = {\n  context: null,\n  antialias: false,\n  premultipliedAlpha: true,\n  preserveDrawingBuffer: false,\n  powerPreference: \"default\"\n};\nContextSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"context\"\n};\nextensions.add(ContextSystem);\nexport { ContextSystem };","map":{"version":3,"names":["CONTEXT_UID_COUNTER","ContextSystem","constructor","renderer","webGLVersion","extensions","supports","uint32Indices","handleContextLost","bind","handleContextRestored","isLost","gl","isContextLost","contextChange","CONTEXT_UID","init","options","context","initFromContext","alpha","background","premultipliedAlpha","preserveDrawingBuffer","useContextAlpha","powerPreference","initFromOptions","antialias","stencil","validateContext","runners","emit","view","addEventListener","createContext","canvas","settings","PREFER_ENV","ENV","WEBGL2","getContext","Error","getExtensions","common","loseContext","getExtension","anisotropicFiltering","floatTextureLinear","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","Object","assign","drawBuffers","depthTexture","vertexArrayObject","uint32ElementIndex","floatTexture","textureHalfFloat","textureHalfFloatLinear","colorBufferFloat","event","preventDefault","setTimeout","restoreContext","destroy","removeEventListener","useProgram","postrender","objectRenderer","renderingToScreen","flush","attributes","getContextAttributes","isWebGl2","globalThis","WebGL2RenderingContext","console","warn","hasuint32","defaultOptions","extension","type","ExtensionType","RendererSystem","name","add"],"sources":["C:\\Users\\cheng\\OneDrive\\Desktop\\site\\cindyjcheng.github.io\\node_modules\\@pixi\\core\\src\\context\\ContextSystem.ts"],"sourcesContent":["import { ENV } from '@pixi/constants';\nimport { extensions, ExtensionType } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\n\nimport type { ExtensionMetadata } from '@pixi/extensions';\nimport type { ICanvas } from '@pixi/settings';\nimport type { IRenderingContext } from '../IRenderer';\nimport type { Renderer } from '../Renderer';\nimport type { ISystem } from '../system/ISystem';\nimport type { WebGLExtensions } from './WebGLExtensions';\n\nlet CONTEXT_UID_COUNTER = 0;\n\n/**\n * Options for the context system.\n * @memberof PIXI\n */\nexport interface ContextSystemOptions\n{\n    /**\n     * **Deprecated since 7.0.0, use `premultipliedAlpha` and `backgroundAlpha` instead.**\n     *\n     * Pass-through value for canvas' context attribute `alpha`. This option is for cases where the\n     * canvas needs to be opaque, possibly for performance reasons on some older devices.\n     * If you want to set transparency, please use `backgroundAlpha`.\n     *\n     * **WebGL Only:** When set to `'notMultiplied'`, the canvas' context attribute `alpha` will be\n     * set to `true` and `premultipliedAlpha` will be to `false`.\n     * @deprecated since 7.0.0\n     * @memberof PIXI.IRendererOptions\n     */\n    useContextAlpha?: boolean | 'notMultiplied';\n    /**\n     * **WebGL Only.** User-provided WebGL rendering context object.\n     * @memberof PIXI.IRendererOptions\n     */\n    context: IRenderingContext | null;\n    /**\n     * **WebGL Only.** Whether to enable anti-aliasing. This may affect performance.\n     * @memberof PIXI.IRendererOptions\n     */\n    antialias: boolean;\n    /**\n     * **WebGL Only.** A hint indicating what configuration of GPU is suitable for the WebGL context,\n     * can be `'default'`, `'high-performance'` or `'low-power'`.\n     * Setting to `'high-performance'` will prioritize rendering performance over power consumption,\n     * while setting to `'low-power'` will prioritize power saving over rendering performance.\n     * @memberof PIXI.IRendererOptions\n     */\n    powerPreference: WebGLPowerPreference;\n    /**\n     * **WebGL Only.** Whether the compositor will assume the drawing buffer contains colors with premultiplied alpha.\n     * @memberof PIXI.IRendererOptions\n     */\n    premultipliedAlpha: boolean;\n    /**\n     * **WebGL Only.** Whether to enable drawing buffer preservation. If enabled, the drawing buffer will preserve\n     * its value until cleared or overwritten. Enable this if you need to call `toDataUrl` on the WebGL context.\n     * @memberof PIXI.IRendererOptions\n     */\n    preserveDrawingBuffer: boolean;\n}\n\nexport interface ISupportDict\n{\n    uint32Indices: boolean;\n}\n\n/**\n * System plugin to the renderer to manage the context.\n * @memberof PIXI\n */\nexport class ContextSystem implements ISystem<ContextSystemOptions>\n{\n    /** @ignore */\n    static defaultOptions: ContextSystemOptions = {\n        /**\n         * {@link PIXI.IRendererOptions.context}\n         * @default null\n         * @memberof PIXI.settings.RENDER_OPTIONS\n         */\n        context: null,\n        /**\n         * {@link PIXI.IRendererOptions.antialias}\n         * @default false\n         * @memberof PIXI.settings.RENDER_OPTIONS\n         */\n        antialias: false,\n        /**\n         * {@link PIXI.IRendererOptions.premultipliedAlpha}\n         * @default true\n         * @memberof PIXI.settings.RENDER_OPTIONS\n         */\n        premultipliedAlpha: true,\n        /**\n         * {@link PIXI.IRendererOptions.preserveDrawingBuffer}\n         * @default false\n         * @memberof PIXI.settings.RENDER_OPTIONS\n         */\n        preserveDrawingBuffer: false,\n        /**\n         * {@link PIXI.IRendererOptions.powerPreference}\n         * @default default\n         * @memberof PIXI.settings.RENDER_OPTIONS\n         */\n        powerPreference: 'default',\n    };\n    /** @ignore */\n    static extension: ExtensionMetadata = {\n        type: ExtensionType.RendererSystem,\n        name: 'context',\n    };\n\n    /**\n     * Either 1 or 2 to reflect the WebGL version being used.\n     * @readonly\n     */\n    public webGLVersion: number;\n\n    /**\n     * Features supported by current context.\n     * @type {object}\n     * @readonly\n     * @property {boolean} uint32Indices - Support for 32-bit indices buffer.\n     */\n    readonly supports: ISupportDict;\n\n    preserveDrawingBuffer: boolean;\n    powerPreference: WebGLPowerPreference;\n\n    /**\n     * Pass-thru setting for the canvas' context `alpha` property. This is typically\n     * not something you need to fiddle with. If you want transparency, use `backgroundAlpha`.\n     * @member {boolean}\n     * @deprecated since 7.0.0\n     */\n    useContextAlpha: boolean | 'notMultiplied';\n\n    protected CONTEXT_UID: number;\n    protected gl: IRenderingContext;\n\n    /**\n     * Extensions available.\n     * @type {object}\n     * @readonly\n     * @property {WEBGL_draw_buffers} drawBuffers - WebGL v1 extension\n     * @property {WEBGL_depth_texture} depthTexture - WebGL v1 extension\n     * @property {OES_texture_float} floatTexture - WebGL v1 extension\n     * @property {WEBGL_lose_context} loseContext - WebGL v1 extension\n     * @property {OES_vertex_array_object} vertexArrayObject - WebGL v1 extension\n     * @property {EXT_texture_filter_anisotropic} anisotropicFiltering - WebGL v1 and v2 extension\n     */\n    public extensions: WebGLExtensions;\n\n    private renderer: Renderer;\n\n    /** @param renderer - The renderer this System works for. */\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n\n        this.webGLVersion = 1;\n        this.extensions = {};\n\n        this.supports = {\n            uint32Indices: false,\n        };\n\n        // Bind functions\n        this.handleContextLost = this.handleContextLost.bind(this);\n        this.handleContextRestored = this.handleContextRestored.bind(this);\n    }\n\n    /**\n     * `true` if the context is lost\n     * @readonly\n     */\n    get isLost(): boolean\n    {\n        return (!this.gl || this.gl.isContextLost());\n    }\n\n    /**\n     * Handles the context change event.\n     * @param {WebGLRenderingContext} gl - New WebGL context.\n     */\n    protected contextChange(gl: IRenderingContext): void\n    {\n        this.gl = gl;\n        this.renderer.gl = gl;\n        this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n    }\n\n    init(options: ContextSystemOptions): void\n    {\n        /*\n         * The options passed in to create a new WebGL context.\n         */\n        if (options.context)\n        {\n            this.initFromContext(options.context);\n        }\n        else\n        {\n            const alpha = this.renderer.background.alpha < 1;\n            const premultipliedAlpha = options.premultipliedAlpha;\n\n            this.preserveDrawingBuffer = options.preserveDrawingBuffer;\n            this.useContextAlpha = options.useContextAlpha;\n            this.powerPreference = options.powerPreference;\n\n            this.initFromOptions({\n                alpha,\n                premultipliedAlpha,\n                antialias: options.antialias,\n                stencil: true,\n                preserveDrawingBuffer: options.preserveDrawingBuffer,\n                powerPreference: options.powerPreference,\n            });\n        }\n    }\n\n    /**\n     * Initializes the context.\n     * @protected\n     * @param {WebGLRenderingContext} gl - WebGL context\n     */\n    initFromContext(gl: IRenderingContext): void\n    {\n        this.gl = gl;\n        this.validateContext(gl);\n        this.renderer.gl = gl;\n        this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n        this.renderer.runners.contextChange.emit(gl);\n\n        const view = this.renderer.view;\n\n        if (view.addEventListener !== undefined)\n        {\n            view.addEventListener('webglcontextlost', this.handleContextLost, false);\n            view.addEventListener('webglcontextrestored', this.handleContextRestored, false);\n        }\n    }\n\n    /**\n     * Initialize from context options\n     * @protected\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\n     * @param {object} options - context attributes\n     */\n    initFromOptions(options: WebGLContextAttributes): void\n    {\n        const gl = this.createContext(this.renderer.view, options);\n\n        this.initFromContext(gl);\n    }\n\n    /**\n     * Helper class to create a WebGL Context\n     * @param canvas - the canvas element that we will get the context from\n     * @param options - An options object that gets passed in to the canvas element containing the\n     *    context attributes\n     * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext\n     * @returns {WebGLRenderingContext} the WebGL context\n     */\n    createContext(canvas: ICanvas, options: WebGLContextAttributes): IRenderingContext\n    {\n        let gl;\n\n        if (settings.PREFER_ENV >= ENV.WEBGL2)\n        {\n            gl = canvas.getContext('webgl2', options);\n        }\n\n        if (gl)\n        {\n            this.webGLVersion = 2;\n        }\n        else\n        {\n            this.webGLVersion = 1;\n\n            gl = canvas.getContext('webgl', options) || canvas.getContext('experimental-webgl', options);\n\n            if (!gl)\n            {\n                // fail, not able to get a context\n                throw new Error('This browser does not support WebGL. Try using the canvas renderer');\n            }\n        }\n\n        this.gl = gl as IRenderingContext;\n\n        this.getExtensions();\n\n        return this.gl;\n    }\n\n    /** Auto-populate the {@link PIXI.ContextSystem.extensions extensions}. */\n    protected getExtensions(): void\n    {\n        // time to set up default extensions that Pixi uses.\n        const { gl } = this;\n\n        const common = {\n            loseContext: gl.getExtension('WEBGL_lose_context'),\n            anisotropicFiltering: gl.getExtension('EXT_texture_filter_anisotropic'),\n            floatTextureLinear: gl.getExtension('OES_texture_float_linear'),\n\n            s3tc: gl.getExtension('WEBGL_compressed_texture_s3tc'),\n            s3tc_sRGB: gl.getExtension('WEBGL_compressed_texture_s3tc_srgb'), // eslint-disable-line camelcase\n            etc: gl.getExtension('WEBGL_compressed_texture_etc'),\n            etc1: gl.getExtension('WEBGL_compressed_texture_etc1'),\n            pvrtc: gl.getExtension('WEBGL_compressed_texture_pvrtc')\n                || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n            atc: gl.getExtension('WEBGL_compressed_texture_atc'),\n            astc: gl.getExtension('WEBGL_compressed_texture_astc')\n        };\n\n        if (this.webGLVersion === 1)\n        {\n            Object.assign(this.extensions, common, {\n                drawBuffers: gl.getExtension('WEBGL_draw_buffers'),\n                depthTexture: gl.getExtension('WEBGL_depth_texture'),\n                vertexArrayObject: gl.getExtension('OES_vertex_array_object')\n                    || gl.getExtension('MOZ_OES_vertex_array_object')\n                    || gl.getExtension('WEBKIT_OES_vertex_array_object'),\n                uint32ElementIndex: gl.getExtension('OES_element_index_uint'),\n                // Floats and half-floats\n                floatTexture: gl.getExtension('OES_texture_float'),\n                floatTextureLinear: gl.getExtension('OES_texture_float_linear'),\n                textureHalfFloat: gl.getExtension('OES_texture_half_float'),\n                textureHalfFloatLinear: gl.getExtension('OES_texture_half_float_linear'),\n            });\n        }\n        else if (this.webGLVersion === 2)\n        {\n            Object.assign(this.extensions, common, {\n                // Floats and half-floats\n                colorBufferFloat: gl.getExtension('EXT_color_buffer_float')\n            });\n        }\n    }\n\n    /**\n     * Handles a lost webgl context\n     * @param {WebGLContextEvent} event - The context lost event.\n     */\n    protected handleContextLost(event: WebGLContextEvent): void\n    {\n        // Prevent default to be able to restore the context\n        event.preventDefault();\n\n        // Restore the context after this event has exited\n        setTimeout(() =>\n        {\n            if (this.gl.isContextLost() && this.extensions.loseContext)\n            {\n                this.extensions.loseContext.restoreContext();\n            }\n        }, 0);\n    }\n\n    /** Handles a restored webgl context. */\n    protected handleContextRestored(): void\n    {\n        this.renderer.runners.contextChange.emit(this.gl);\n    }\n\n    destroy(): void\n    {\n        const view = this.renderer.view;\n\n        this.renderer = null;\n\n        // remove listeners\n        if (view.removeEventListener !== undefined)\n        {\n            view.removeEventListener('webglcontextlost', this.handleContextLost);\n            view.removeEventListener('webglcontextrestored', this.handleContextRestored);\n        }\n\n        this.gl.useProgram(null);\n\n        if (this.extensions.loseContext)\n        {\n            this.extensions.loseContext.loseContext();\n        }\n    }\n\n    /** Handle the post-render runner event. */\n    protected postrender(): void\n    {\n        if (this.renderer.objectRenderer.renderingToScreen)\n        {\n            this.gl.flush();\n        }\n    }\n\n    /**\n     * Validate context.\n     * @param {WebGLRenderingContext} gl - Render context.\n     */\n    protected validateContext(gl: IRenderingContext): void\n    {\n        const attributes = gl.getContextAttributes();\n\n        const isWebGl2 = 'WebGL2RenderingContext' in globalThis && gl instanceof globalThis.WebGL2RenderingContext;\n\n        if (isWebGl2)\n        {\n            this.webGLVersion = 2;\n        }\n\n        // this is going to be fairly simple for now.. but at least we have room to grow!\n        if (attributes && !attributes.stencil)\n        {\n            /* eslint-disable max-len, no-console */\n            console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly');\n            /* eslint-enable max-len, no-console */\n        }\n\n        const hasuint32 = isWebGl2 || !!(gl as WebGLRenderingContext).getExtension('OES_element_index_uint');\n\n        this.supports.uint32Indices = hasuint32;\n\n        if (!hasuint32)\n        {\n            /* eslint-disable max-len, no-console */\n            console.warn('Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly');\n            /* eslint-enable max-len, no-console */\n        }\n    }\n}\n\nextensions.add(ContextSystem);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}